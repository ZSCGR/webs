define("./chunk-ca728567.js",["exports","./chunk-539de822","./chunk-740044b8","./chunk-fd633ad1","./chunk-a647c4b1"],function(e,t,a,r,i){"use strict";var n=new MessageChannel,l=n.port1,o=n.port2;function s(){return new Promise(function(e){var t=Math.random();o.addEventListener("message",function a(r){r.data===t&&(o.removeEventListener("message",a),e())}),l.postMessage(t)})}o.start();var c="_3vydV";function u(e){return e.split(" ").map(function(e){return"."+e}).join("")}function d(){var e=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--cell-padding"));return{cellSize:parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--cell-size")),cellPadding:e}}a.styleInject('._3vydV{display:flex;margin:var(--side-margin);margin-bottom:0;padding:0 0 var(--bar-padding);top:0;z-index:1;text-transform:uppercase}._3vydV,._3vydV:before{position:absolute;left:0;right:0}._3vydV:before{content:"";height:1px;transform-origin:0 0;transform:scaleY(.5);bottom:0;background:#fff}._3iA6-{flex:1;order:1;display:flex;justify-content:flex-start;align-items:center;white-space:nowrap}._3zF2k{flex:1;order:2;text-align:center;font-size:inherit;font-weight:400;margin:0;padding:0}@media (max-width:350px){.in-game ._3zF2k{display:none}}._3dK2l{flex:1;order:3;display:flex;justify-content:flex-end;align-items:center;white-space:nowrap}._3OtLH,.RXt1R{width:var(--icon-size);height:var(--icon-size)}._3OtLH{margin-left:.7em;fill:#fff}.RXt1R{margin-right:.7em;fill:none;stroke-width:2px;stroke:#fff}');var h={maxWidth:8192,maxHeight:32768},f="texturecache";function g(e,i,n,l,o){return void 0===o&&(o={}),t.__awaiter(this,void 0,void 0,function(){var c,u,d,g,v,p,x,b,P,w;return t.__generator(this,function(R){switch(R.label){case 0:return c=t.__assign({},h,o),u=Math.floor(c.maxWidth/(n*a.staticDevicePixelRatio)),d=Math.floor(c.maxHeight/(n*a.staticDevicePixelRatio)),g=u*d,p=f+":"+e,x=r.version+":"+n+":"+a.staticDevicePixelRatio,[4,a.get(p+":version")];case 1:return R.sent()!==x||a.noCache?[4,a.del(p+":version")]:[3,7];case 2:return R.sent(),[4,a.del(p+":buffers")];case 3:return R.sent(),[4,m(i,n,l,c)];case 4:return v=R.sent(),[4,a.set(p+":version",x)];case 5:return R.sent(),[4,a.set(p+":buffers",v)];case 6:return R.sent(),[3,9];case 7:return[4,a.get(p+":buffers")];case 8:v=R.sent(),R.label=9;case 9:b=new Array(v.length),P=function(e){var a;return t.__generator(this,function(t){switch(t.label){case 0:return(a=new Image).src=URL.createObjectURL(new Blob([v[e]],{type:"image/png"})),[4,new Promise(function(e){return a.onload=e})];case 1:return t.sent(),b[e]=a,[4,s()];case 2:return t.sent(),[2]}})},w=0,R.label=10;case 10:return w<v.length?[5,P(w)]:[3,13];case 11:R.sent(),R.label=12;case 12:return w++,[3,10];case 13:return[2,{drawer:function(e,t,r){e=Math.floor(e%l);var i=Math.floor(e/g),o=e%g,s=o%u,c=Math.floor(o/u),d=b[i],h=s*n,f=c*n;t.drawImage(d,h*a.staticDevicePixelRatio,f*a.staticDevicePixelRatio,n*a.staticDevicePixelRatio,n*a.staticDevicePixelRatio,0,0,r,r)},caches:b}]}})})}function m(e,r,i,n){return t.__awaiter(this,void 0,void 0,function(){var l,o,c,u,d,h,f,g,m;return t.__generator(this,function(v){switch(v.label){case 0:l=n.maxWidth,o=n.maxHeight,c=Math.floor(l/(r*a.staticDevicePixelRatio)),u=Math.floor(o/(r*a.staticDevicePixelRatio)),d=c*u,h=Math.ceil(i/d),f=[],g=function(n){var u,h,g,m,v,p,x,b,P,w,R,y,S;return t.__generator(this,function(t){switch(t.label){case 0:if(u=i-n*d,h=l,g=o,(m=document.createElement("canvas")).width=h,m.height=g,!(v=m.getContext("2d")))throw Error("Could not instantiate 2D rendering context");v.scale(a.staticDevicePixelRatio,a.staticDevicePixelRatio),p=0,t.label=1;case 1:return p<u&&p<d?(x=n*d+p,b=p%c,P=Math.floor(p/c),w=b*r,R=P*r,v.save(),v.translate(w,R),e(x,v),v.restore(),[4,s()]):[3,4];case 2:t.sent(),t.label=3;case 3:return p++,[3,1];case 4:return[4,new Promise(function(e){return m.toBlob(e,"image/png")})];case 5:return y=t.sent(),[4,new Response(y).arrayBuffer()];case 6:return S=t.sent(),f.push(S),[2]}})},m=0,v.label=1;case 1:return m<h?[5,g(m)]:[3,4];case 2:v.sent(),v.label=3;case 3:return m++,[3,1];case 4:return[2,f]}})})}function v(e,t,a,r,i,n){e.beginPath(),e.moveTo(t,a+n),e.arc(t+n,a+n,n,-Math.PI,-Math.PI/2,!1),e.lineTo(t+r-n,a),e.arc(t+r-n,a+n,n,-Math.PI/2,0,!1),e.lineTo(t+r,a+i-n),e.arc(t+r-n,a+i-n,n,0,Math.PI/2,!1),e.lineTo(t+r-n,a+i),e.arc(t+n,a+i-n,n,Math.PI/2,Math.PI,!1),e.closePath()}e.textureTileSize=null,e.idleAnimationTextureDrawer=null,e.idleSprites=null,e.staticTextureDrawer=null,e.staticSprites=null,e.getBarHeights=function(){var e=document.querySelector(u(a.bottomBar)),t=e.getBoundingClientRect(),r=parseFloat(getComputedStyle(e).marginTop||"0")+parseFloat(getComputedStyle(e).marginBottom||"0"),i=t.height+r,n=document.querySelector(u(c)),l=n.getBoundingClientRect(),o=parseFloat(getComputedStyle(n).marginTop||"0")+parseFloat(getComputedStyle(n).marginBottom||"0");return{topBarHeight:l.height+o,bottomBarHeight:i}},e.getCellSizes=d,e.lazyGenerateTextures=function(){return t.__awaiter(this,void 0,void 0,function(){var r,n,l,o,s,c;return t.__generator(this,function(t){switch(t.label){case 0:return r=d(),n=r.cellPadding,l=r.cellSize,o=l+2*n,e.textureTileSize=o,[4,g("idle",function(e,t,a){var r=(e-2*t)*i.safetyBufferFactor,n=r/2;return function(t,l){l.clearRect(0,0,e,e);var o=Math.floor(t%a)/a;l.save(),l.translate(e/2,e/2),v(l,-n,-n,r,r,r*i.borderRadius),l.clip(),l.strokeStyle=i.white,l.lineWidth=r*i.thinLine;for(var s=i.remap(0,1,1,1.4,i.smoothpulse(0,.5,.5,1,o)),c=0;c<i.numInnerRects;c++){l.save();var u=(i.numInnerRects-c)/i.numInnerRects*.14,d=5+9*c+c*(c+1)/2+180*i.smoothpulse(0,.5+u,.5+u,1,o);l.rotate(i.deg2rad(-d));var h=r*s*(.92-.13*c);v(l,-h/2,-h/2,h,h,h*i.borderRadius),l.stroke(),l.restore()}l.restore()}}(o,n,i.idleAnimationNumFrames),o,i.idleAnimationNumFrames,{maxWidth:i.spriteSize,maxHeight:i.spriteSize})];case 1:return s=t.sent(),e.idleAnimationTextureDrawer=s.drawer,e.idleSprites=s.caches,[4,g("static",function(e,t){var r=(e-2*t)*i.safetyBufferFactor,n=r/2,l=document.createElement("canvas");l.width=l.height=e*a.staticDevicePixelRatio;var o=l.getContext("2d");o.scale(a.staticDevicePixelRatio,a.staticDevicePixelRatio);var s=i.glowFactor;return function(t,c){if(o.clearRect(0,0,e,e),o.save(),c.save(),c.translate(e/2,e/2),o.translate(e/2,e/2),0===t)o.strokeStyle="white",v(o,-n,-n,r,r,r*i.borderRadius),o.lineWidth=r*i.thickLine,o.stroke();else if(12===t){o.strokeStyle="white",o.lineWidth=r*i.thickLine;var u=r*i.innerCircleRadius;o.beginPath(),o.moveTo(u,0),o.arc(0,0,u,0,2*Math.PI),o.closePath(),o.stroke()}else if(t>=1&&t<=8){o.strokeStyle=i.white,o.lineWidth=r*i.thickLine,o.beginPath(),o.arc(0,0,n*i.numberCircleRadius,0,2*Math.PI),o.closePath(),o.stroke(),o.fillStyle=i.white,o.textAlign="center",o.textBaseline="middle",o.font=r*i.numberFontSizeFactor+'px/1 "Space Mono", sans-serif';var d=o.measureText(""+t),h=r*i.numberFontTopShiftFactor;"actualBoundingBoxAscent"in d&&(h=(d.actualBoundingBoxAscent-d.actualBoundingBoxDescent)/2),o.fillText(""+t,0,h)}else if(9===t)v(o,-n,-n,r,r,r*i.borderRadius),o.clip(),o.fillStyle=i.white,o.fillRect(-n,-n,r,r);else if(10===t){u=n*i.safetyBufferFactor*i.blackHoleOuterRadius,c.fillStyle="rgb("+i.blackHoleOuterRed+")",c.beginPath(),c.arc(0,0,u,0,2*Math.PI),c.closePath(),c.fill(),u*=i.blackHoleInnerRadius,c.fillStyle="black",c.beginPath(),c.arc(0,0,u,0,2*Math.PI),c.closePath(),c.fill();var f=c.createRadialGradient(0,0,u*i.blackHoleRadius,0,0,u);f.addColorStop(0,"rgba("+i.blackHoleInnerRed+", .5)"),f.addColorStop(1,"rgba("+i.blackHoleInnerRed+", .1)"),c.fillStyle=f,c.beginPath(),c.arc(0,0,u,0,2*Math.PI),c.closePath(),c.fill(),u*=i.blackHoleRadius,c.fillStyle="black",c.beginPath(),c.arc(0,0,u,0,2*Math.PI),c.closePath(),c.fill()}else 11===t?(c.globalAlpha=.3,v(c,-n,-n,r,r,r*i.borderRadius),c.clip(),c.fillStyle=i.white,c.fillRect(-n,-n,r,r)):13===t&&(o.fillStyle="white",o.lineWidth=r*i.thickLine,u=r*i.flagCircleRadius,o.beginPath(),o.moveTo(u,0),o.arc(0,0,u,0,2*Math.PI),o.closePath(),o.fill());c.restore(),o.restore(),c.save();var g=(e*a.staticDevicePixelRatio*s).toFixed(1);c.filter="blur("+g+"px)",c.globalAlpha=i.glowAlpha,c.drawImage(l,0,0,l.width,l.height,0,0,e,e),c.filter="none",c.globalAlpha=1,c.drawImage(l,0,0,l.width,l.height,0,0,e,e),c.restore()}}(o,n),o,14,{maxWidth:i.spriteSize,maxHeight:i.spriteSize})];case 2:return c=t.sent(),e.staticTextureDrawer=c.drawer,e.staticSprites=c.caches,[2]}})})},e.nextEvent=function(e,t){return new Promise(function(a){return e.addEventListener(t,a,{once:!0})})},e.processDoneCallback=function(e){e.done&&(e.done(),delete e.done)},e.squareIcon="RXt1R",e.squaresLeft="_3iA6-",e.time="_3dK2l",e.timeIcon="_3OtLH",e.title="_3zF2k",e.topBar=c});
//# sourceMappingURL=chunk-ca728567.js.map
